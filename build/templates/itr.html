{% extends "base.html" %}

{% block content %}
    <div class="container">
        <div id="search-items" class="row mt-3 align-items-end mb-3">

            <!-- Section Dropdown -->
            <div class="col-md-2">
                <label for="sectionSelect" class="form-label">Select Section:</label>
                <select id="sectionSelect" name="section" class="form-control">
                    <option value="">-- Select Section --</option>
                    {% for sec in sections %}
                        <option value="{{ sec|e }}">{{ sec|e }}</option>
                    {% endfor %}
                </select>
            </div>

            <!-- Year Dropdown -->
            <div class="col-md-2">
                <label for="yearSelect" class="form-label">Financial Year:</label>
                <select id="yearSelect" name="year" class="form-control">
                    <option value="">-- Select --</option>
                </select>
            </div>

            <!-- Title Dropdown -->
            <div class="col-md-4">
                <label for="titleSelect" class="form-label">Select Heading:</label>
                <select id="titleSelect" name="titleSelect" class="form-control">
                    <option value="">-- Select --</option>
                </select>
            </div>

            <!-- Search Content -->
            <div class="col-md-3">
                <label for="search-content">Search Content:</label>
                <input type="text" id="search-content" class="form-control" placeholder="Type to search..."/>
            </div>

            <!-- Search Button -->
            <div class="col-md-1 mt-2">
                <button id="searchBtn" class="btn btn-success">Search</button>
            </div>
        </div>
    </div>

    <!-- Results -->
    <div class="container">
        <div class="row mt-3">
            <div class="col-md-12">
                <div id="search-results"></div>
                <div id="related-results"></div>
            </div>
        </div>
    </div>

    <style>
        .highlighted {
            background-color: yellow;
        }
    </style>
{% endblock %}

{% block scripts %}
    <!-- Set page-specific config before loading JS -->
    <script>
        window.pageCategory = "ITR";  // Category for this page
        window.articlesApiUrl = "{{ url_for('admin_document.articles_api') }}";  // API endpoint
    </script>

    <!-- Load the shared search JS -->
    <script src="{{ url_for('static', filename='assets/js/document-search.js') }}"></script>
{% endblock %}
